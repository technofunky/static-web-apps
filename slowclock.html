<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>24-Hour One-Hand Clock</title>
<style>
  :root {
    --bg: #0d0f14;
    --ring: #1d2230;
    --ticks: #8fa2c9;
    --nums: #cfd8ea;
    --hand: #6cc4ff;
    --hand-glow: rgba(108,196,255,0.35);
    --center: #e9f1ff;
    --shadow: rgba(0,0,0,0.35);
    --accent: #a9b7d6;
  }
  @media (prefers-color-scheme: light) {
    :root {
      --bg: #f7f9fc;
      --ring: #e6ebf4;
      --ticks: #5a6b8a;
      --nums: #2b3446;
      --hand: #0b6cff;
      --hand-glow: rgba(11,108,255,0.2);
      --center: #0b6cff;
      --shadow: rgba(0,0,0,0.12);
      --accent: #8596b5;
    }
  }
  html, body {
    height: 100%;
    margin: 0;
    background: radial-gradient(1200px 1200px at 50% 20%, var(--ring), var(--bg));
    color: var(--nums);
    font-family: system-ui, sans-serif;
  }
  .wrap {
    min-height: 100%;
    display: grid;
    place-items: center;
    padding: 24px;
  }
  .clock-panel {
    display: grid;
    gap: 14px;
    justify-items: center;
  }
  canvas {
    width: min(88vmin, 720px);
    aspect-ratio: 1/1;
    border-radius: 24px;
    box-shadow: 0 18px 40px var(--shadow), inset 0 0 0 1px rgba(255,255,255,0.04);
  }
  .label {
    font-size: clamp(12px, 1.6vmin, 16px);
    color: var(--accent);
    user-select: none;
    text-align: center;
  }
</style>
</head>
<body>
  <div class="wrap">
    <div class="clock-panel">
      <canvas id="clock"></canvas>
      <div class="label" id="readout">â€”</div>
    </div>
  </div>

<script>
(function() {
  const canvas = document.getElementById('clock');
  const ctx = canvas.getContext('2d');
  const readout = document.getElementById('readout');

  function fitCanvas() {
    const cssSize = canvas.getBoundingClientRect().width;
    const dpr = window.devicePixelRatio || 1;
    canvas.width = cssSize * dpr;
    canvas.height = cssSize * dpr;
    ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
    draw();
  }
  window.addEventListener('resize', fitCanvas);

  function fractionOfDay(date) {
    const ms = date.getHours()*3600000 + date.getMinutes()*60000 + date.getSeconds()*1000 + date.getMilliseconds();
    return ms / 86400000;
  }

  function draw() {
    const w = canvas.clientWidth;
    const h = canvas.clientHeight;
    const size = Math.min(w,h);
    const cx = size/2, cy = size/2;
    const r = size*0.44;
    ctx.clearRect(0,0,w,h);

    ctx.save();
    ctx.translate(cx,cy);

    const tickColor = getCss('--ticks');
    ctx.lineCap = 'round';

    // ---- Minor ticks: every 15 min (96 per circle) ----
    for (let i=0; i<96; i++) {
      const angle = (i/96)*Math.PI*2 - Math.PI/2;
      const isHourMark = (i%4===0);
      if (isHourMark) continue; // skip, will be drawn in major ticks
      const len = 6;
      const lw = 1;
      const x1 = Math.cos(angle) * (r - len - 10);
      const y1 = Math.sin(angle) * (r - len - 10);
      const x2 = Math.cos(angle) * (r - 10);
      const y2 = Math.sin(angle) * (r - 10);
      ctx.beginPath();
      ctx.moveTo(x1,y1);
      ctx.lineTo(x2,y2);
      ctx.lineWidth = lw;
      ctx.strokeStyle = tickColor;
      ctx.globalAlpha = 0.6;
      ctx.stroke();
    }

    // ---- Major ticks: every 1 hour (24 per circle) ----
    ctx.globalAlpha = 1;
    for (let hmark=0; hmark<24; hmark++) {
      const angle = (hmark/24)*Math.PI*2 - Math.PI/2;
      const isQuarter = (hmark%6===0);
      const isHalf = (hmark%12===0);
      const len = isHalf?18:(isQuarter?14:10);
      const lw = isHalf?3:(isQuarter?2:1.6);
      const x1 = Math.cos(angle) * (r - len - 10);
      const y1 = Math.sin(angle) * (r - len - 10);
      const x2 = Math.cos(angle) * (r - 10);
      const y2 = Math.sin(angle) * (r - 10);
      ctx.beginPath();
      ctx.moveTo(x1,y1);
      ctx.lineTo(x2,y2);
      ctx.lineWidth = lw;
      ctx.strokeStyle = tickColor;
      ctx.stroke();
    }

    // ---- Hour numbers ----
    ctx.fillStyle = getCss('--nums');
    ctx.font = `${Math.floor(size*0.035)}px system-ui`;
    ctx.textAlign = 'center';
    ctx.textBaseline = 'middle';
    const numRadius = r-40;
    for (let n=0;n<24;n++) {
      const angle = (n/24)*Math.PI*2 - Math.PI/2;
      const nx = Math.cos(angle)*numRadius;
      const ny = Math.sin(angle)*numRadius;
      ctx.fillText(String(n),nx,ny);
    }

    // ---- Hand ----
    const now = new Date();
    const frac = fractionOfDay(now);
    const angle = frac*Math.PI*2 - Math.PI/2;
    const handLen = r-26;
    ctx.save();
    ctx.rotate(angle);
    ctx.beginPath();
    ctx.moveTo(14,-1.5);
    ctx.lineTo(handLen,0);
    ctx.lineTo(14,1.5);
    ctx.closePath();
    ctx.fillStyle = getCss('--hand');
    ctx.fill();
    ctx.restore();

    // Center
    ctx.beginPath();
    ctx.arc(0,0,5.5,0,Math.PI*2);
    ctx.fillStyle = getCss('--center');
    ctx.fill();

    ctx.restore();

    readout.textContent = formatDigital(now);
  }

  function formatDigital(d) {
    return `${String(d.getHours()).padStart(2,'0')}:${String(d.getMinutes()).padStart(2,'0')}:${String(d.getSeconds()).padStart(2,'0')}`;
  }
  function getCss(v) {
    return getComputedStyle(document.documentElement).getPropertyValue(v).trim();
  }

  function tick() {
    draw();
    requestAnimationFrame(tick);
  }
  fitCanvas();
  tick();
})();
</script>
</body>
</html>
